<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accedi</title>
    <link rel="icon" type="image/x-icon" href="./img/vortex_vault_logo.ico">
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
    <!-- stile -->
    <link rel="stylesheet" href="./css/main.css">
    <!-- componenti -->
    <script type="module" src="./components/main.components.js"></script>
    <!-- auth -->
    <script type="module" src="./js/login.js"></script>
</head>
<body>
    <vortex-navbar></vortex-navbar>
    <main class="pagina">
        <form id="accedi">
            <h2 class="icon">
                <span class="material-symbols-rounded">login</span>
                Sign In
            </h2>
            <p class="secondary">
                Your device is locked? <a class="open" data-target-open="win-device-recovery">Recover device</a> <br>
            </p>
            <!-- --- -->
            <label for="email">
                <span class="material-symbols-rounded">person</span>
                Email
            </label>
            <input type="email" class="input-text" id="email" name="email" autocomplete="off" required>
            <!-- --- -->
            <label for="password">
                <span class="material-symbols-rounded">key_vertical</span>
                Password
            </label>
            <input type="password" class="input-text" id="password" name="password" required>
            <p class="description">
                Forgot your password? <a class="open" data-target-open="win-password-recovery">Recover password</a> <br>
            </p>
            <!-- --- -->
            <hr>
            <button type="submit" class="btn primary w-100 mb-2">
                <span class="material-symbols-rounded">login</span>
                Sign In
            </button>
            <button type="button" class="btn warning w-100 open" data-target-open="win-request-sign-in">
                <span class="material-symbols-rounded">id_card</span>
                Request Sign-in
            </button>
        </form>
    </main>
    <!--
        PASSWORD DIMENTICATA
    -->
    <div class="window m pr" id="win-password-recovery">
        <div class="flex y-center">
            <h2 class="icon">
                <span class="material-symbols-rounded">lock_reset</span>
                Password Recovery
            </h2>
            <button class="btn t close l last" data-target-close="win-password-recovery">
                <span class="material-symbols-rounded">close</span>
            </button>
        </div>
        <hr>
        <form id="form-password-recovery">
            <!-- EMAIL -->
            <label for="recovery-email">
                <span class="material-symbols-rounded">person</span>
                Email
            </label>
            <input type="email" class="input-text" id="recovery-email" name="email" autocomplete="off" required>
            <!-- SUDO CODE -->
            <label for="sudo-code">
                <span class="material-symbols-rounded">password</span>
                Recovery Code
            </label>
            <div class="flex gap-75">
                <input name="code" type="password" class="input-text mono" id="sudo-code" autocomplete="off" placeholder="****-****-****-****-****" required>
                <button class="btn t CA paste-val" data-target-pa="sudo-code" type="button" title="Paste">
                    <span class="material-symbols-rounded">content_paste</span>
                </button>
            </div>
            <!-- --- -->
            <button type="submit" class="btn primary mt-2">
                Submit
            </button>
        </form>
    </div>
    <!--
        DEVICE RECOVERY
    -->
    <div class="window m pl" id="win-device-recovery">
        <div class="flex y-center">
            <h2 class="icon">
                <span class="material-symbols-rounded">mobile_friendly</span>
                Device Recovery
            </h2>
            <button class="btn t close l last" data-target-close="win-device-recovery">
                <span class="material-symbols-rounded">close</span>
            </button>
        </div>
        <hr>
        <!-- RECOVER FROM AUTHENTICATOR -->
        <h3 class="icon slider" slider="cont-mfa">
            <span class="material-symbols-rounded">phonelink_lock</span>
            From Authenticator
            <span class="material-symbols-rounded warning">vpn_key</span>
        </h3>
        <div class="isle bg-3" id="cont-mfa" style="display: none;">
            <form id="form-device-recovery-mfa">
                <!-- EMAIL -->
                <label for="recovery-device-mfa-email">
                    <span class="material-symbols-rounded">person</span>
                    Email
                </label>
                <input type="email" class="input-text" id="recovery-device-mfa-email" name="email" autocomplete="off" required>
                <!-- RECOVERY CODE -->
                <label for="recovery-device-mfa-code">
                    <span class="material-symbols-rounded">password</span>
                    Recovery Code
                </label>
                <div class="flex gap-75">
                    <input name="code" maxlength="6" type="text" class="input-text mfa" id="recovery-device-mfa-code" autocomplete="off" placeholder="******" required>
                    <button class="btn t CA paste-val" data-target-pa="recovery-device-mfa-code" type="button" title="Paste">
                        <span class="material-symbols-rounded">content_paste</span>
                    </button>
                </div>
                <!-- --- -->
                <button type="submit" class="btn primary mt-2">
                    <span class="material-symbols-rounded">settings_backup_restore</span>
                    Recover
                </button>
            </form>
        </div>
        <hr>
        <!-- RECOVER FROM EMAIL -->
        <h3 class="icon slider" slider="cont-email-recovery">
            <span class="material-symbols-rounded">mail</span>
            From Email
            <span class="material-symbols-rounded warning">id_card</span>
        </h3>
        <div class="isle bg-3" id="cont-email-recovery" style="display: none;">
            <form id="form-device-recovery-email">
                <!-- EMAIL -->
                <label for="recovery-device-email-email">
                    <span class="material-symbols-rounded">person</span>
                    Email
                </label>
                <input type="email" class="input-text mb-2" id="recovery-device-email-email" name="email" autocomplete="off" required>
                <!-- code -->
                <email-verify-btn email-id="recovery-device-email-email" target-id="recovery-device-email-code"></email-verify-btn>
                <label for="recovery-device-email-code">
                    <span class="material-symbols-rounded">password</span>
                    Code
                </label>
                <input name="code" maxlength="6" type="text" class="input-text mfa" id="recovery-device-email-code" autocomplete="off" placeholder="******" required>
                <!-- --- -->
                <button type="submit" class="btn primary mt-2">
                    <span class="material-symbols-rounded">settings_backup_restore</span>
                    Recover
                </button>
            </form>
        </div>
    </div>
    <!-- 
    SIGN-IN WITH SHARED SIGN-IN CREDENTIALS
    -->
    <div class="window m" id="win-request-sign-in">
        <div class="flex y-center">
            <h2 class="icon">
                <span class="material-symbols-rounded">id_card</span>
                Request Sign-in
            </h2>
            <button class="btn t close l last" data-target-close="win-request-sign-in">
                <span class="material-symbols-rounded">close</span>
            </button>
        </div>
        <hr>
        <p>
            Click here to generate a code that you can use to sign-in here from another authenticated device
        </p>
        <button class="btn primary mb-2" id="btn-request-sign-in">
            <span class="material-symbols-rounded">sync</span>
            Generate Code
        </button>
        <form id="get-ssic" class="isle bg-3">
            <!-- CODE -->
            <input name="code" maxlength="8" type="text" class="input-text mfa mb-2 fs-l" id="rsicode" autocomplete="off" required readonly>
            <p class="description">
                Enter this code into another authenticated device.
            </p>
            <!-- SUBMIT -->
            <button type="submit" class="btn primary">
                <span class="material-symbols-rounded">login</span>
                Sign In
            </button>
        </form>
    </div>
    <!-- FOOTER -->
    <vortex-footer></vortex-footer>
</body>
</html>