<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <link rel="icon" type="image/x-icon" href="./img/vortex_vault_logo.ico">
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
    <!-- stile -->
    <link rel="stylesheet" href="./css/main.css">
    <!-- componenti -->
    <script type="module" src="./components/main.components.js"></script>
    <!-- auth -->
    <script type="module" src="./js/register.js"></script>
</head>
<body>
    <vortex-navbar></vortex-navbar>
    <main class="pagina">
        <form id="registrati">
            <h2 class="icon">
                <span class="material-symbols-rounded">person_add</span>
                Sign Up
            </h2>
            <p class="description">
                To register, you'll need to verify your email, 
                set up Multi-Factor Authentication (MFA), 
                and activate your account. Don't worry, we'll guide you through each step.
            </p>
            <!-- EMAIL -->
            <label for="email">
                <span class="material-symbols-rounded">person</span>
                Email
            </label>
            <input type="email" class="input-text" id="email" name="email" autocomplete="off" required>
            <p class="description">
                We only support popular email providers like Gmail, iCloud, Yahoo, or Microsoft accounts.
                This helps ensure the security and legitimacy of accounts, reducing the risk of spam and fraudulent activity.
            </p>
            <!-- PASSWORD -->
            <label for="password">
                <span class="material-symbols-rounded">key_vertical</span>
                Password
            </label>
            <input type="password" class="input-text" id="password" name="password" required>
            <!-- --- -->
            <label for="password2">
                <span class="material-symbols-rounded">key_vertical</span>
                Repeat password
            </label>
            <input type="password" class="input-text mb-2" id="password2" name="password2" required>
            <!-- --- -->
            <button class="btn primary w-100">
                <span class="material-symbols-rounded">person_add</span>
                Sign Up
            </button>
            <hr>
            <div class="flex gap-50 d-column">
                <button type="button" class="btn warning w-100 open" data-target-open="win-email-verify">
                    <span class="material-symbols-rounded">phonelink_lock</span>
                    Set up MFA
                </button>
                <button type="button" class="btn warning w-100 open" data-target-open="win-account-verify">
                    <span class="material-symbols-rounded">verified_user</span>
                    Verify Account
                </button>
            </div>
        </form>
        <!-- 
            SET UP MFA
        -->
        <div class="window m" id="win-email-verify">
            <div class="flex y-center">
                <h2 class="icon">
                    <span class="material-symbols-rounded">phonelink_lock</span>
                    Set up MFA
                </h2>
                <button class="btn t close l last" data-target-close="win-email-verify">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <hr>
            <p>
                Verify your email to activate multi-factor authentication via Google Authenticator or similar.
                You need it to verify your account in the next step.
            </p>
            <form id="setup-mfa">
                <!-- --- -->
                <label for="verify-email-email">
                    <span class="material-symbols-rounded">person</span>
                    Email
                </label>
                <input type="email" class="input-text mb-2" id="verify-email-email" name="email" autocomplete="off" required>
                <!-- code -->
                <email-verify-btn email-id="verify-email-email" target-id="verify-email-code"></email-verify-btn>
                <label for="recovery-device-email-code">
                    <span class="material-symbols-rounded">password</span>
                    Code
                </label>
                <input name="code" maxlength="6" type="text" class="input-text mfa mb-2" id="verify-email-code" autocomplete="off" placeholder="******" required>
                <!-- SUBMIT -->
                <button type="submit" class="btn primary">
                    <span class="material-symbols-rounded">check</span>
                    Verify & Activate MFA
                </button>
            </form>
        </div>
        <!-- 
            ACCOUNT VERIFY
        -->
        <div class="window m" id="win-account-verify">
            <div class="flex y-center">
                <h2 class="icon">
                    <span class="material-symbols-rounded">verified_user</span>
                    Verify Account
                </h2>
                <button class="btn t close l last" data-target-close="win-account-verify">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <hr>
            <form id="account-verify">
                <input type="email" class="none" id="verify-account-email" name="email" autocomplete="off" required>
                <!-- code -->
                <label for="account-verify-code">
                    <span class="material-symbols-rounded">password</span>
                    Code
                </label>
                <input name="code" maxlength="6" type="text" class="input-text mfa" id="account-verify-code" autocomplete="off" placeholder="******" required>
                <p class="description">
                    Insert OTP code from your Authenticator app
                </p>
                <!-- SUBMIT -->
                <button type="submit" class="btn primary">
                    <span class="material-symbols-rounded">check</span>
                    Verify account
                </button>
            </form>
        </div>
    </main>
    <!-- footer -->
    <vortex-footer></vortex-footer>
</body>
</html>